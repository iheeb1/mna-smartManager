<app-header></app-header>
<div class="dashboard">
    <div class="dashboard-container">

        <!-- Page Header -->
        <div class="page-header">
            <div class="header-title">
                <h1>{{ greetingMessage }}، {{ userName }}!</h1>
                <p>مرحبًا بك في بيئة عملك المريحة، غدًا سيكون يومًا أفضل من اليوم</p>
            </div>

            <div class="header-actions">
                <button class="icon-btn">
                    <img src="assets/icons/hand_icon.svg" alt="File">
                </button>
                <button class="icon-btn">
                    <img src="assets/icons/file_icon.svg" alt="Book">
                </button>
                <button class="icon-btn">
                    <img src="assets/icons/car_fix_icon.svg" alt="Pencil">
                </button>
            </div>
        </div>

        <div class="activity-label">
            <span>نشاط سريع</span>
        </div>
        
        <!-- Feature Cards -->
        <div class="feature-cards">
            <div class="feature-card card-blue">
                <div class="card-image">
                    <img src="assets/images/truck.png" alt="المركبات">
                </div>
                <div class="card-content">
                    <h3>المركبات</h3>
                    <p>سيارات، شاحنات، دراجات، نقل والمزيد</p>
                </div>
            </div>

            <div class="feature-card card-purple">
                <div class="card-image">
                    <img src="assets/images/reports.png" alt="التقارير">
                </div>
                <div class="card-content">
                    <h3>التقارير</h3>
                    <p>تقارير المبيعات، الأرباح، الأداء والمزيد</p>
                </div>
            </div>

            <div class="feature-card card-blue-light">
                <div class="card-image">
                    <img src="assets/images/payments.png" alt="المدفوعات">
                </div>
                <div class="card-content">
                    <h3>المدفوعات</h3>
                    <p>عمليات الدفع، التحويلات، الفواتير والمزيد</p>
                </div>
            </div>

            <div class="feature-card card-indigo">
                <div class="card-image">
                    <img src="assets/images/register.png" alt="الانتظار">
                </div>
                <div class="card-content">
                    <h3>الانتظار</h3>
                    <p>عرض الطلبات المعلقة، تحديث الحالة، إدارة الإجراءات والمزيد</p>
                </div>
            </div>
            
        </div>

        <div class="bottom-section">
            <div class="customers-card">
                <div class="customers-header">
                    <h2>العملاء</h2>
                    <a href="#" class="view-all">عرض جميع العملاء ></a>
                </div>
            
                <p-table [value]="customers" [loading]="loading" styleClass="custom-table">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>اسم العميل</th>
                            <th>البريد الإلكتروني</th>
                            <th>الهاتف</th>
                            <th>العنوان</th>
                            <th>حالة الدفع</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-customer>
                        <tr>
                            <td>{{ customer.customerName }}</td>
                            <td>{{ customer.customerEmails }}</td>
                            <td>{{ customer.customerMobileNumber || customer.customerPhoneNumber }}</td>
                            <td>{{ customer.customerAddressLine1 }}{{ customer.customerCity ? ', ' + customer.customerCity : '' }}</td>
                            <td>
                                <p-tag [value]="formatAmount(customer)"
                                    [severity]="getPaymentStatus(customer) === 'positive' ? 'success' : 'danger'"
                                    [style]="{'background': getPaymentStatus(customer) === 'positive' ? '#DFF7EB' : '#FAE1F6', 'color': getPaymentStatus(customer) === 'positive' ? '#6CD697' : '#EE98BB', 'padding': '0.25rem 0.75rem', 'border-radius': '6px'}">
                                </p-tag>
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 2rem;">
                                <div style="color: #6c757d;">
                                    <i class="pi pi-users" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
                                    <p style="margin: 0; font-size: 1.1rem; font-weight: 500;">لا يوجد عملاء متاحون</p>
                                    <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem;">أضف المزيد لعرضهم هنا</p>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>

            <div class="settings-card">
                <div class="settings-header">
                    <h2>الإعدادات</h2>
                    <a href="#" class="view-all">عرض جميع الإعدادات ></a>
                </div>

                <div class="menu-grid">
                    <div *ngFor="let item of menuItems" class="menu-item">
                        <img [src]="item.svgPath" [alt]="item.label">
                        <span>{{ item.label }}</span>
                    </div>
                </div>
                <h4 class="settings-title">الإعدادات</h4>
            </div>
            <div class="profile-card">
                <div class="profile-image">
                    <img src="assets/images/profile.png" alt="محمد">
                </div>
                <div class="profile-content">
                    <h3>العملاء</h3>
                    <p>إحصائيات، تحديثات والمزيد في الارتفاع</p>
                </div>
            </div>
        </div>

    </div>
</div>
<app-footer-nav></app-footer-nav>