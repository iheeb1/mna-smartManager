<p-dialog 
  [(visible)]="visible" 
  [modal]="true" 
  [closable]="true"
  [draggable]="false"
  [dismissableMask]="true"
  [style]="{width: isMobile ? '100%' : '800px', maxWidth: isMobile ? '100%' : '90vw'}"
  [styleClass]="isMobile ? 'mobile-vehicle-dialog' : 'vehicle-dialog'"
  [position]="isMobile ? 'bottom' : 'center'"
  (onHide)="closeDialog()">
  
  <!-- Desktop Form -->
  <div class="form-container" *ngIf="!isMobile">
    <div class="form-image">
      <img src="assets/images/truck_gift.png" alt="شاحنة">
      <h2>{{ carToEdit ? 'تعديل مركبة' : 'إضافة مركبة' }}<br>جديدة</h2>
    </div>

    <div class="form-content">
      <div class="form-fields">
        <div class="field-group">
          <label>رقم المركبة</label>
          <input 
            type="text" 
            pInputText 
            [(ngModel)]="formData.plateNumber" 
            placeholder="123456789" 
            class="form-input">
        </div>

        <div class="field-group">
          <label>نوع المركبة</label>
          <input 
            type="text" 
            pInputText 
            [(ngModel)]="formData.model" 
            placeholder="كيا بيكانتو" 
            class="form-input">
        </div>

        <div class="toggle-group">
          <label>نشط</label>
          <p-inputSwitch [(ngModel)]="formData.isActive"></p-inputSwitch>
        </div>
      </div>

      <div class="form-actions">
        <button 
          pButton 
          label="حفظ" 
          (click)="onSubmit()" 
          class="save-button">
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Form -->
<div class="mobile-form-container" *ngIf="isMobile">
  <div class="mobile-form-image">
    <img src="assets/images/truck_gift_mobile.png" alt="Truck">
    <button class="mobile-back-btn" (click)="closeDialog()">
      <i class="pi pi-arrow-right"></i>
    </button>
    <h2>{{ carToEdit ? 'تعديل مركبة' : 'إضافة مركبة' }}<br>جديدة</h2>
  </div>

  <div class="mobile-form-content">
    <div class="mobile-field-group">
      <label>رقم المركبة</label>
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="formData.plateNumber" 
        placeholder="123456789">
    </div>

    <div class="mobile-field-group">
      <label>نوع المركبة</label>
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="formData.model" 
        placeholder="كيا بيكانتو">
    </div>
    <label>نشط?</label>
    <div class="mobile-toggle-group">
      <p-inputSwitch [(ngModel)]="formData.isActive"></p-inputSwitch>
      <label>نشط</label>
    </div>
  </div>

  <div class="mobile-form-actions">
    <button 
      pButton 
      label="حفظ" 
      (click)="onSubmit()" 
      class="mobile-save-button">
    </button>
  </div>
</div>
</p-dialog>